apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: test-a-prod

configMapGenerator:
- literals:
  - PROJECT_SLUG=test-a
  - ENV_SLUG=prod
  name: project-env-values
  options:
    disableNameSuffixHash: true

images:
- name: test-a-prod-web
  newName: ghcr.io/louishaftmann/kubernetes-test-app
  newTag: 0bdf74a9c393188c0e3164169022226c7a2ce436
- name: web
  newName: ghcr.io/louishaftmann/kubernetes-test-app
  newTag: eff216cf35e67186b6429446a42addd10c0fc272

components:
- ../../bases/web
- ../../bases/infisical

configurations:
- ../../configs/kustomize-config.yaml

patches:
- path: ingress.yaml
